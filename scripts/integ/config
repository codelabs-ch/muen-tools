### muen_integ_config ###

ROOT=$HOME/Builds
LOGDIR=$ROOT/logs/$BUILDID
LOGFILE=$LOGDIR/build.log
LOCK=/tmp/muen-integ.running

: ${NUM_CPUS=$(getconf _NPROCESSORS_ONLN)}

# AMT password, only set if not present in the environment
: ${AMT_PASSWORD=XXX}

: ${QEMU_SSH_PORT=5555}

: ${QEMU_SSH_ATTEMPTS=10}

# ssh configuration
LNX2_LOGIN=lnx2
SSH_KEY=$ROOT/.ssh/id_rsa
SSH="ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no"
SCP="scp -r -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no"

# target IPs, associated system policy, platform config and integration test
# script to execute.
#
# if no IP is specified for a target, it is assumed that the host is managed via
# EPC power bar instead of Intel AMT.
#
# optionally, a target-specific expect file can be specified. The file path is
# treated relatively to the scripts/integ directory.
TARGETS_HW=()
#TARGETS_HW+=('192.168.254.2;xml/integration_tests.xml;hardware/lenovo-t430s.xml;integtest')
#TARGETS_HW+=('192.168.254.3;xml/integration_tests_kt.xml;hardware/kontron-ktqm77.xml;integtest_kt;expect.kt')
#TARGETS_HW+=(';xml/integration_tests.xml;hardware/intel-nuc-6cayh.xml;integtest')

# emulate targets
#
# fields:
# 1 : SYSTEM
# 2 : HARDWARE
# 3 : SCRIPT
# 4 : EXPECT FILE
# 5 : QEMU_EXTRA_OPTS
TARGETS_EMUL=()
TARGETS_EMUL+=('xml/demo_system_vtd.xml;hardware/qemu-kvm.xml;integtest.kvm;expect.kvm;')

# log capture commands
LOG_CMD_AMT="/usr/bin/amtterm"
LOG_CMD_XHCI="components/libxhcidbg/misc/xhcidbg-log"
