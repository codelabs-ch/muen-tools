<?xml version="1.0"?>
<!DOCTYPE system [
<!ENTITY hardware   SYSTEM "default_hardware.xml">
<!ENTITY kernel     SYSTEM "default_kernel.xml">
<!ENTITY binaries   SYSTEM "default_binaries.xml">
<!ENTITY subj_state SYSTEM "default_subject_state.xml">
<!ENTITY scheduling SYSTEM "default_scheduling.xml">
]>
<system vmxon_address="0" vmcs_start_address="1000">
	&hardware;
	&kernel;
	&binaries;

	<subjects>
		<subject id="0" name="tau0" pml4_address="1f0000" io_bitmap_address="1a0000">
			&subj_state;
			<memory_layout>
				<memory_region physical_address="240000" virtual_address="0" size="64k" alignment="4k" writable="true"  executable="true"/>
				<memory_region physical_address="100000"                     size="4k"  alignment="4k" writable="false" executable="false"/>
			</memory_layout>
			<binary name="tau0" physical_address="216000"/>
			<device name="serial"/>
			<trap_table>
				<entry trap="exception_or_nmi"   dst_subject="subject2"/>
				<entry trap="external_interrupt" dst_subject="subject1" dst_vector="12"/>
			</trap_table>
		</subject>
		<subject id="1" name="subject1" pml4_address="1f4000" io_bitmap_address="1b0000">
			&subj_state;
			<memory_layout>
				<memory_region physical_address="250000" virtual_address="0" size="12k" alignment="4k" writable="true" executable="true"/>
			</memory_layout>
			<binary name="subject1" physical_address="226000"/>
			<device name="vga"/>
			<device name="multiport"/>
			<device name="testdevice"/>
		</subject>
		<subject id="2" name="subject2" pml4_address="1f8000" io_bitmap_address="1c0000">
			&subj_state;
			<memory_layout>
				<memory_region physical_address="260000" virtual_address="0" size="12k" alignment="4k" writable="true" executable="true"/>
			</memory_layout>
			<binary name="subject2" physical_address="236000"/>
		</subject>
	</subjects>

	&scheduling;
</system>
